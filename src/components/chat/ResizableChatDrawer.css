/* ResizableChatDrawer.css */

/* Root variable for drawer width */
:root {
  --chat-drawer-width: 0px;
}

/* Only apply padding when drawer is actually open */
body.chat-drawer-open .notion-layout-container {
  padding-right: var(--chat-drawer-width, 0px);
  transition: padding-right 300ms ease-in-out;
}

/* For survey and dashboard, use transform to shift content left */
body.chat-drawer-open .survey-container,
body.chat-drawer-open .dashboard-wrapper {
  transform: translateX(calc(var(--chat-drawer-width, 0px) * -0.5));
  transition: transform 300ms ease-in-out;
}

/* Ensure survey content remains centered in available space */
body.chat-drawer-open .survey-container .max-w-3xl {
  max-width: min(48rem, calc(100vw - var(--chat-drawer-width, 0px) - 4rem));
  transition: max-width 300ms ease-in-out;
}

/* Prevent transition during resize for smoother experience */
body.resizing .notion-layout-container,
body.resizing .survey-container,
body.resizing .dashboard-wrapper {
  transition: none !important;
}

/* Resize handle styles */
.resize-handle {
  position: absolute;
  left: 0;
  top: 0;
  width: 4px;
  height: 100%;
  margin-left: -2px;
  cursor: ew-resize;
  z-index: 10;
}

.resize-handle:hover::after {
  content: '';
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  width: 2px;
  height: 32px;
  background-color: rgba(55, 53, 47, 0.2);
  border-radius: 1px;
}

.resize-handle.active {
  background-color: #2383E2;
  width: 2px;
  margin-left: -1px;
}

/* Ensure drawer stays above other content and is flush to the right */
.chat-drawer {
  z-index: 1000;
}

/* Override any global styles that might affect positioning */
body.chat-drawer-open {
  overflow-x: hidden;
}

/* Ensure the drawer is absolutely flush to the right edge */
.fixed[style*="right: 0"] {
  right: 0 !important;
}

/* Remove transform-based animations since we're using right positioning */

/* Aggressive fix to prevent any element from causing horizontal scroll */
body {
  position: relative;
  width: 100%;
  max-width: 100%;
  overflow-x: hidden !important;
}

/* Ensure no fixed elements can extend beyond viewport */
.fixed {
  max-width: 100vw;
}